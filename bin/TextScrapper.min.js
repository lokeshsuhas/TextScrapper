(function(e){defaults={maxLength:0,prevIcon:"glyphicon glyphicon-play",nextIcon:"glyphicon glyphicon-play",onPrevCallBack:function(e,t){},onNextCallBack:function(e,t){}};var t=function(t,n){this.$element=e(t);this.options=e.extend(defaults,n);this.textChunks=[];this.index=0;this.lastIndex=0;this.init()};t.prototype={constructor:t,init:function(){var e=this;var t=e.$element.text();if(t.length>e.options.maxLength){e.textChunks=t.chunkString([e.options.maxLength]);var n=e.$element.parent();e.$element.text(e.textChunks[0]);e.$element.prepend("<i class='"+prevIcon+" txtprev' title='Prev' style='display:none;font-size: 15px; line-height: 1.6; -webkit-transform: rotate(180deg); -moz-transform: rotate(180deg); -o-transform: rotate(180deg); -ms-transform: rotate(180deg);'></i>");e.$element.append("<i class='"+nextIcon+" txtnext' title='Next' style='display:none;'></i>");e.$element.find(".txtprev").click(function(){e.onPrev()});e.$element.find(".txtnext").click(function(){e.onNext()});e.$element.find(".txtnext").show();for(var r=0;r<e.textChunks.length;r++){e.$element.append("<input class='txtscrap txtscrapid_"+r+"' type='hidden' value='"+e.textChunks[r]+"' />")}}},onPrev:function(){var e=this;e.lastIndex=e.index;if(--e.index<0)e.index=e.$element.find(".txtscrap").length-1;e.$element.contents()[1].nodeValue=e.$element.find(".txtscrapid_"+e.index).val();if(e.index==0){e.$element.find(".txtprev").hide()}if(e.onPrevCallBack){e.options.onPrevCallBack.call(e.index,e.lastIndex)}},onNext:function(){var e=this;e.lastIndex=e.index;if(++e.index==e.$element.find(".txtscrap").length)e.index=0;e.$element.contents()[1].nodeValue=e.$element.find(".txtscrapid_"+e.index).val();if(e.index>0){e.$element.find(".txtprev").show()}if(e.onNextCallBack){e.options.onNextCallBack.call(e.index,e.lastIndex)}}};e.fn.textscrapper=function(n){var r=this;var i=Array.prototype.slice.call(arguments,1);return r.each(function(){var r=this;var s=e(r);var o=s.data("textscrapper"),u=typeof n=="object"&&n;if(!o)s.data("textscrapper",o=new t(r,u));if(typeof n=="string")o[n].apply(o,i)})};e.fn.textscrapper.Constructor=t;String.prototype.chunkString=function(e){var t;if(this.length<1){return[]}if(typeof e==="number"&&e>0){var n=Math.ceil(this.length/e),r=0;t=new Array(n);for(var i=0;i<n;i++){t[i]=this.substring(r,r=r+e)}}else if(typeof e==="object"&&e.length){var s=0,o=this.length,u,a=this;t=[];do{e.forEach(function(e){u=a.substring(s,s+e);if(u!==""){t.push(u);s+=u.length}});if(s===0){return undefined}}while(s<o)}return t}})(jQuery)